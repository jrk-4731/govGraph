{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/jrk99/govGraph/src/components/congressPersonDisplay.jsx\";\nimport React, { Component } from \"react\";\nimport \"./congressPersonDisplay.css\";\nimport { getButtons, getBills } from \"./fetch_data_functions\";\nimport PlaceHolder from \"./placeholder.jpg\";\n\nclass CongressPersonDisplay extends Component {\n  constructor() {\n    super();\n\n    this.componentWillMount = () => {\n      this.getAll();\n    };\n\n    this.getDropdown = () => {\n      const currentState = this.state.active;\n      this.setState({\n        active: !currentState\n      });\n    };\n\n    this.filterFunc = () => {\n      var input, filter, a, i, div;\n      input = document.getElementById(\"myINput\");\n      filter = input.value.toUpperCase();\n      div = document.getElementById(\"myDropDown\");\n      a = div.getElementsByTagName(\"div\");\n\n      for (i = 0; i < a.length; i++) {\n        var txtValue = a[i].textContent || a[i].innerText;\n\n        if (txtValue.toUpperCase().indexOf(filter) > -1) {\n          a[i].style.display = \"\";\n        } else {\n          a[i].style.display = \"none\";\n        }\n      }\n    };\n\n    this.getAll = () => {\n      getButtons(116).then(data => {\n        this.setState({\n          repInfo: [...data]\n        });\n      });\n    };\n\n    this.componentWillReceiveProps = props => {\n      getButtons(props.congress).then(data => {\n        this.setState({\n          repInfo: [...data]\n        });\n      });\n      this.setState({\n        repBio: props.currentMember\n      });\n      getBills(props.currentMember[1], props.congress).then(data => {\n        this.computeBillData(data);\n      });\n    };\n\n    this.computeBillData = bills => {\n      var passed = 0;\n      var party = [];\n      var sponsorParty;\n      console.log(bills);\n\n      for (var i = 0; i < bills.length; i++) {\n        if (bills[i].enacted_as !== undefined) {\n          passed++;\n        }\n\n        for (var j = 0; j < this.state.repInfo.length; j++) {\n          if (bills[i].cosponsors !== undefined) {\n            for (var k = 0; k < bills[i].cosponsors.length; k++) {\n              if (bills[i].cosponsors[k].bioguide_id === this.state.repInfo[j][1]) {\n                party.push(this.state.repInfo[j][3]);\n              }\n            }\n          }\n\n          if (this.state.repInfo[j][1] === this.state.repBio[1]) {\n            sponsorParty = this.state.repInfo[j][3];\n          }\n        }\n      }\n\n      var partisan = 0;\n      var bipartisan = 0;\n\n      for (var x = 0; x < party.length; x++) {\n        if (party[x] === sponsorParty) {\n          partisan++;\n        } else {\n          bipartisan++;\n        }\n      }\n\n      this.setState({\n        billsSponsored: bills.length,\n        billsPassed: passed,\n        partisanDegree: partisan,\n        bipartisanDegree: bipartisan\n      });\n    };\n\n    this.state = {\n      repBio: null,\n      repInfo: [],\n      billsSponsored: null,\n      billsPassed: null,\n      partisanDegree: null,\n      bipartisanDegree: null,\n      active: false\n    };\n  }\n\n  render() {\n    var rep_Name;\n\n    if (this.state.repBio == null) {\n      rep_Name = React.createElement(\"h6\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Choose Your Senator\");\n    } else {\n      rep_Name = React.createElement(\"h6\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.state.repBio[0]);\n    }\n\n    var message;\n    var currImg;\n\n    if (this.state.repBio == null) {\n      message = React.createElement(\"div\", {\n        className: \"onMountMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Click on a Senator To Get More Information About That Congress Member\");\n      currImg = React.createElement(\"img\", {\n        className: \"smallPhoto\",\n        src: PlaceHolder,\n        alt: \"Placeholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      });\n    } else {\n      message = React.createElement(\"div\", {\n        className: \"properties\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bills\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sponsored\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Bills Sponsored\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, this.state.billsSponsored)), React.createElement(\"div\", {\n        className: \"passed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Bills Passed\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, this.state.billsPassed))), React.createElement(\"div\", {\n        className: \"partisan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"part\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Partisan Degree\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.state.partisanDegree)), React.createElement(\"div\", {\n        className: \"bipart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Bipartisan Degree\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, this.state.bipartisanDegree))));\n      currImg = React.createElement(\"img\", {\n        className: \"smallPhoto\",\n        src: \"http://bioguide.congress.gov/bioguide/photo/\" + this.state.repBio[1].substring(0, 1) + \"/\" + this.state.repBio[1] + \".jpg\",\n        alt: \"Placeholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, rep_Name, currImg, React.createElement(\"div\", {\n      className: \"textContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nameAndSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropDown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search Rep...\",\n      id: \"myINput\",\n      onKeyUp: this.filterFunc,\n      onClick: this.getDropdown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"myDropDown\",\n      className: this.state.active ? \"dropDown-Content Show\" : \"dropDown-Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, Object.keys(this.state.repInfo).map(idx => {\n      var name = this.state.repInfo[idx][0];\n      var bioGuide = this.state.repInfo[idx][1];\n      return React.createElement(\"div\", {\n        onClick: () => {\n          this.setState({\n            repBio: [name.first + \" \" + name.last, bioGuide],\n            active: false\n          });\n        },\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, name.first + \" \" + name.last);\n    })))), message));\n  }\n\n}\n\nexport default CongressPersonDisplay;","map":{"version":3,"sources":["/mnt/c/Users/jrk99/govGraph/src/components/congressPersonDisplay.jsx"],"names":["React","Component","getButtons","getBills","PlaceHolder","CongressPersonDisplay","constructor","componentWillMount","getAll","getDropdown","currentState","state","active","setState","filterFunc","input","filter","a","i","div","document","getElementById","value","toUpperCase","getElementsByTagName","length","txtValue","textContent","innerText","indexOf","style","display","then","data","repInfo","componentWillReceiveProps","props","congress","repBio","currentMember","computeBillData","bills","passed","party","sponsorParty","console","log","enacted_as","undefined","j","cosponsors","k","bioguide_id","push","partisan","bipartisan","x","billsSponsored","billsPassed","partisanDegree","bipartisanDegree","render","rep_Name","message","currImg","substring","Object","keys","map","idx","name","bioGuide","first","last"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./congressPersonDisplay.css\";\r\nimport { getButtons, getBills } from \"./fetch_data_functions\";\r\nimport PlaceHolder from \"./placeholder.jpg\";\r\n\r\nclass CongressPersonDisplay extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      repBio: null,\r\n      repInfo: [],\r\n      billsSponsored: null,\r\n      billsPassed: null,\r\n      partisanDegree: null,\r\n      bipartisanDegree: null,\r\n      active: false\r\n    };\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    this.getAll();\r\n  };\r\n\r\n  getDropdown = () => {\r\n    const currentState = this.state.active;\r\n    this.setState({ active: !currentState });\r\n  };\r\n\r\n  filterFunc = () => {\r\n    var input, filter, a, i, div;\r\n    input = document.getElementById(\"myINput\");\r\n    filter = input.value.toUpperCase();\r\n    div = document.getElementById(\"myDropDown\");\r\n    a = div.getElementsByTagName(\"div\");\r\n    for (i = 0; i < a.length; i++) {\r\n      var txtValue = a[i].textContent || a[i].innerText;\r\n      if (txtValue.toUpperCase().indexOf(filter) > -1) {\r\n        a[i].style.display = \"\";\r\n      } else {\r\n        a[i].style.display = \"none\";\r\n      }\r\n    }\r\n  };\r\n\r\n  getAll = () => {\r\n    getButtons(116).then(data => {\r\n      this.setState({\r\n        repInfo: [...data]\r\n      });\r\n    });\r\n  };\r\n\r\n  componentWillReceiveProps = props => {\r\n    getButtons(props.congress).then(data => {\r\n      this.setState({\r\n        repInfo: [...data]\r\n      });\r\n    });\r\n    this.setState({ repBio: props.currentMember });\r\n    getBills(props.currentMember[1], props.congress).then(data => {\r\n      this.computeBillData(data);\r\n    });\r\n  };\r\n\r\n  computeBillData = bills => {\r\n    var passed = 0;\r\n    var party = [];\r\n    var sponsorParty;\r\n    console.log(bills);\r\n    for (var i = 0; i < bills.length; i++) {\r\n      if (bills[i].enacted_as !== undefined) {\r\n        passed++;\r\n      }\r\n      for (var j = 0; j < this.state.repInfo.length; j++) {\r\n        if (bills[i].cosponsors!==undefined){\r\n          for (var k = 0; k < bills[i].cosponsors.length; k++) {\r\n            if (bills[i].cosponsors[k].bioguide_id === this.state.repInfo[j][1]) {\r\n              party.push(this.state.repInfo[j][3]);\r\n            }\r\n          }\r\n        }\r\n        if (this.state.repInfo[j][1] === this.state.repBio[1]) {\r\n          sponsorParty = this.state.repInfo[j][3];\r\n        }\r\n      }\r\n    }\r\n    var partisan = 0;\r\n    var bipartisan = 0;\r\n    for (var x = 0; x < party.length; x++) {\r\n      if (party[x] === sponsorParty) {\r\n        partisan++;\r\n      } else {\r\n        bipartisan++;\r\n      }\r\n    }\r\n    this.setState({\r\n      billsSponsored: bills.length,\r\n      billsPassed: passed,\r\n      partisanDegree: partisan,\r\n      bipartisanDegree: bipartisan\r\n    });\r\n  };\r\n\r\n  render() {\r\n    var rep_Name;\r\n    if (this.state.repBio == null) {\r\n      rep_Name = <h6 className=\"name\">Choose Your Senator</h6>;\r\n    } else {\r\n      rep_Name = <h6 className=\"name\">{this.state.repBio[0]}</h6>;\r\n    }\r\n\r\n    var message;\r\n    var currImg;\r\n    if (this.state.repBio == null) {\r\n      message = (\r\n        <div className=\"onMountMessage\">\r\n          Click on a Senator To Get More Information About That Congress Member\r\n        </div>\r\n      );\r\n      currImg = (\r\n        <img className=\"smallPhoto\" src={PlaceHolder} alt=\"Placeholder\" />\r\n      );\r\n    } else {\r\n      message = (\r\n        <div className=\"properties\">\r\n          <div className=\"bills\">\r\n            <div className=\"sponsored\">\r\n              <h6>Bills Sponsored</h6>\r\n              <h3>{this.state.billsSponsored}</h3>\r\n            </div>\r\n            <div className=\"passed\">\r\n              <h6>Bills Passed</h6>\r\n              <h3>{this.state.billsPassed}</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"partisan\">\r\n            <div className=\"part\">\r\n              <h6>Partisan Degree</h6>\r\n              <h3>{this.state.partisanDegree}</h3>\r\n            </div>\r\n            <div className=\"bipart\">\r\n              <h6>Bipartisan Degree</h6>\r\n              <h3>{this.state.bipartisanDegree}</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      currImg = (\r\n        <img\r\n          className=\"smallPhoto\"\r\n          src={\r\n            \"http://bioguide.congress.gov/bioguide/photo/\" +\r\n            this.state.repBio[1].substring(0, 1) +\r\n            \"/\" +\r\n            this.state.repBio[1] +\r\n            \".jpg\"\r\n          }\r\n          alt=\"Placeholder\"\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        {rep_Name}\r\n        {currImg}\r\n        <div className=\"textContainer\">\r\n          <div className=\"nameAndSearch\">\r\n            <div className=\"dropDown\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search Rep...\"\r\n                id=\"myINput\"\r\n                onKeyUp={this.filterFunc}\r\n                onClick={this.getDropdown}\r\n              />\r\n              <div\r\n                id=\"myDropDown\"\r\n                className={\r\n                  this.state.active\r\n                    ? \"dropDown-Content Show\"\r\n                    : \"dropDown-Content\"\r\n                }\r\n              >\r\n                {Object.keys(this.state.repInfo).map(idx => {\r\n                  var name = this.state.repInfo[idx][0];\r\n                  var bioGuide = this.state.repInfo[idx][1];\r\n                  return (\r\n                    <div\r\n                      onClick={() => {\r\n                        this.setState({\r\n                          repBio: [name.first + \" \" + name.last, bioGuide],\r\n                          active: false\r\n                        });\r\n                      }}\r\n                      key={idx}\r\n                    >\r\n                      {name.first + \" \" + name.last}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {message}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CongressPersonDisplay;\r\n"]},"metadata":{},"sourceType":"module"}